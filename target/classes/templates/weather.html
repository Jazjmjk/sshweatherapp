<!-- src/main/resources/templates/weather.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Datos Climatol√≥gicos</title>
    <meta charset="UTF-8"/>
    <meta http-equiv="refresh" content="60">
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #e3f2fd; margin: 0; }
        .container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .weather-card { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.15); text-align: center; transition: transform 0.3s; }
        .weather-card:hover { transform: translateY(-5px); }
        .soleado { background: linear-gradient(to bottom, #fceabb, #f8b500); color: #333; }
        .nublado { background: linear-gradient(to bottom, #d7d2cc, #304352); color: #fff; }
        .icon { font-size: 50px; margin-bottom: 10px; }
        h2 { font-size: 24px; color: #2196f3; }
        p { margin: 5px 0; }
    </style>
</head>
<body>
<h1 style="text-align:center; color:#2196f3;">SISTEMA METEOROL√ìGICO AVISPERO</h1>
<div th:each="mes : ${datosAgrupados}">
    <h2 th:text="'Mes: ' + ${mes.key}"></h2>
    <div th:each="dia : ${mes.value}">
        <h3 th:text="'D√≠a: ' + ${dia.key}"></h3>
        <div class="container">
            <div th:each="weather : ${dia.value}" th:class="'weather-card ' + ${weather.estado}">
                <div class="icon" th:switch="${weather.estado}">
                    <span th:case="'soleado'">‚òÄÔ∏è</span>
                    <span th:case="'nublado'">‚òÅÔ∏è</span>
                    <span th:case="*">üå°Ô∏è</span>
                </div>
                <p><strong>Hora:</strong> <span th:text="${#strings.substring(weather.fecha, 11)}"></span></p>
                <p><strong>Temperatura:</strong> <span th:text="${weather.temperatura}"></span> ¬∞C</p>
                <p><strong>Presi√≥n:</strong> <span th:text="${weather.presion}"></span> hPa</p>
            </div>
        </div>
    </div>
</div>
</body>
</html>
